<div class="container">
  <div class="row mt-5">
    <div class="col">
    </div>
    <div class="col-6">
      {{#if saveSuccess}}
        <div class="alert alert-success" role="alert">
          <h4 class="alert-heading">Well done!</h4>
          <p>The pipeline has been created. You can now add containers to the pipeline.</p>
        </div>
      {{/if}}
      {{#if saveFailure}}
        <div class="alert alert-error" role="alert">
          <h4 class="alert-heading">Oops!</h4>
          <p>Faced an unexepected error while saving the pipeline. Contact administrator for assistance.</p>
        </div>
      {{/if}}
      <h2>Add a new pipeline to the dataflow</h2>
      <form action="/pipeline" method="POST" role="form">
        <div class="form-group">
          <label for="dataflowName">Dataflow Name</label>
          <select id="dataflowName" name="dataflowName" class="form-control">
          {{#repos}}
          {{#dataflows}}
            <option value="{{../repository.name}},{{../name}},{{name}}">{{../repository.name}} / {{../name}} / {{name}}</option>
          {{/dataflows}}
          {{/repos}}
        </select>
        </div>

        <div class="form-group">
          <label for="dataflowName">Pipeline name</label>
          <input type="text" class="form-control" id="pipelineName" name="pipelineName" aria-describedby="pipelineHelp" placeholder="e.g. eq3-finacle-migration" required>
          <small id="pipelineHelp" class="form-text text-muted">The pipeline name should not have any spaces, use hyphen or underscore to replace places in the name.</small>
        </div>
        <div class="form-group">
          <label for="description">Description</label>
          <textarea class="form-control" id="description" name="description" rows="3"></textarea>
        </div>
        <button type="submit" class="btn btn-primary">Save the Dataflow!</button>
      </form>
    </div>
    <div class="col">
    </div>
  </div>
</div>
